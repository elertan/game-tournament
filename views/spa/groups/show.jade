extends ../main.jade

block content
	div(ng-controller="GroupShow")
		div(style="float: left;")
			h1 Groep: {{ group.name }}
			h4 Descriptie {{ group.description }}
			h4 Eigenaar: {{ group.owner.firstname }} {{ group.owner.lastname }}
		button.btn.btn-primary(style="float: right; margin-top: 20px;" ng-show="!isMe && !IsGroupMember" ng-click="groupInvitationClicked()") {{ joinGroupText }}
		div(style="clear: both;")
		div(ng-repeat="groupMember in group.users") Groep Leden:
			a(style = "cursor: pointer;" ng-click="goToGroupMemberProfile(groupMember.studentnumber)") {{ groupMember.firstname }} {{ groupMember.lastname }}
			a(ng-show="isMe", style = "cursor: pointer;" ng-click="removeGroupMember(groupMember.studentnumber)")  Verwijder uit groep
		h3 Chat
		div#groupchat(style="height: 400px; box-shadow: 0px 0px 5px 3px rgba(0,0,0,0.25);")
			div#groupchat-messages(style="height: 360px; overflow: scroll; padding: 5px;")
				div(style="clear: both;" ng-repeat="message in messages")
					div(ng-class="{ 'chat-bubble-right': message.sender.isMe, 'chat-bubble-left': !message.sender.isMe }")
						div.chat-bubble-left-header(ng-show="!message.sender.isMe")
							p {{ message.sender.firstname }} {{ message.sender.lastname }}
							div.chat-bubble-header-hr
						p {{ message.content }}
			div(style="height: 50px; background: #2D82E7;")
				input(type="text" style="float: left; margin: 10px; height: 30px; width: 88%;" ng-model="msg" my-enter="addMessage(msg); msg = '';")
				button.btn.btn-default(style="float: right; margin: 8px;" ng-click="addMessage(msg); msg = '';") Verzenden