extends ../main.jade

block content
	div(ng-controller="GroupShow")
		div(ng-show="isMe" style="background-color: rgb(231, 231, 231); height: 10%;")
			ul(style="width: 100%; height:60px; list-style-type: none; display: inline; padding: 0;")
				li(ng-click="groupManageClicked()" style="height: 100%; width: 33%; background-color: #E7E7E7; display: inline-block; font-size: 18px; border-right: 2px solid rgba(128, 128, 128, 0.45); text-align: center; padding-top: 8px;") Beheren
				li(ng-click="groupChatClicked()" style="height: 100%; width: 33%; background-color: #E7E7E7; display: inline-block; font-size: 18px; border-right: 2px solid rgba(128, 128, 128, 0.45); text-align: center; padding-top: 8px;") Chat
				//- li(ng-click="groupInvitationClicked() style="height: 100%; width: 34%; background-color: #E7E7E7; display: inline-block; font-size: 18px; text-align: center; padding-top: 8px;") Stefans neus
		div(style="float: left;")
			h1 Groep: {{ group.name }}
			h4 Descriptie {{ group.description }}
			h4 Eigenaar: {{ group.owner.firstname }} {{ group.owner.lastname }}
		button.btn.btn-primary(style="float: right; margin-top: 20px;" ng-show="!isMe && !IsGroupMember && !hasSendJoinRequest" ng-click="groupInvitationClicked()") {{ joinGroupText }}
		div(style="clear: both;")
		div(ng-show="isMe", ng-repeat="joinRequest in group.joinRequests") Group Join Requests:
			a(style = "cursor: pointer;" ng-click="AcceptJoinRequest(joinRequest._id)") {{ joinRequest.firstname }} {{ joinRequest.lastname }}
		div(ng-repeat="groupMember in group.users") Groep Leden:
			a(style = "cursor: pointer;" ng-click="goToGroupMemberProfile(groupMember.studentnumber)") {{ groupMember.firstname }} {{ groupMember.lastname }}
			a(ng-show="isMe", style ="cursor: pointer;" ng-click="removeGroupMember(groupMember.studentnumber)")  Verwijder uit groep
		h3 Chat
		div#groupchat(style="height: 400px; box-shadow: 0px 0px 5px 3px rgba(0,0,0,0.25);")
			div#groupchat-messages(style="height: 360px; overflow-x: hidden; padding: 5px;")
				div(style="clear: both;" ng-repeat="message in messages")
					div(ng-class="{ 'chat-bubble-right': message.sender.isMe, 'chat-bubble-left': !message.sender.isMe }")
						div.chat-bubble-left-header(ng-show="!message.sender.isMe")
							p {{ message.sender.firstname }} {{ message.sender.lastname }}
							div.chat-bubble-header-hr
						p {{ message.content }}
			div(style="height: 50px; background: #2D82E7;")
				input(type="text" style="float: left; margin: 10px; height: 30px; width: 76%;" ng-model="msg" my-enter="addMessage(msg)")
				button.btn.btn-default(style="float: right; margin: 8px; width: 18%;" ng-click="addMessage(msg)") Verzenden